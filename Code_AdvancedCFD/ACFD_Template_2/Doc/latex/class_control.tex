\hypertarget{class_control}{}\section{Control Class Reference}
\label{class_control}\index{Control@{Control}}


Map that holds the contents of a control file.  




{\ttfamily \#include $<$control.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_control_1_1_control_pair}{Control\+Pair}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_control_aa730aeda4517f40bc48ba1e46ebded77}{Control} ()
\item 
\hyperlink{class_control_a38ef2c3af6c8ed025fe1e32eaecde245}{Control} (string ctrl\+File)
\item 
\hyperlink{class_control_aedda1328c4f8b8d49bca8f0812d3bfd1}{$\sim$\+Control} ()
\item 
void \hyperlink{class_control_afeadb02134927ebd335d2ded31a080bc}{read} ()
\item 
bool \hyperlink{class_control_a25a6868383ae1da8c2dcfc9e1c08c9b7}{exists} (string key)
\item 
int \hyperlink{class_control_a1ab6db178c602c6a5d5f5b48edc01f61}{get\+Int} (string key, int tok=0)
\item 
bool \hyperlink{class_control_a50d1f887dd09e6292e4e07360be79824}{get\+Bool} (string key, int tok=0)
\item 
double \hyperlink{class_control_aacf80fb72e8d797d1b5396634e41ddc4}{get\+Double} (string key, int tok=0)
\item 
string \hyperlink{class_control_afdb5c4d692d258d9ba3b1a3596e10a4f}{get\+String} (string key, int tok=0)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{class_control_ac81ea08780126671aa88b90654f8a4fa}{find\+Key} (istream \&istr, string key)
\item 
static bool \hyperlink{class_control_ab2c73097c22b0f2693e5c86ff01d2775}{open\+File} (ifstream \&file, string name, string key)
\item 
static double \hyperlink{class_control_a22c3e26d6a7e40451a72ed6f25b45728}{read\+With\+Unit} (const char $\ast$timestr)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_control_a01104c38f1b71090108a52dcf0b3d1d8}{add\+Entry} (string key, string val, void $\ast$ptr=N\+U\+LL)
\item 
void \hyperlink{class_control_ab2764922690cecd881f3ac9c1e0ba8d6}{add\+Pointer} (string key, void $\ast$ptr, string val=\char`\"{}\char`\"{})
\item 
string \hyperlink{class_control_a194c1ebfe1f3774f2fc966b2c9d240b6}{get\+Token} (string key, int tok=0)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
map$<$ string, \hyperlink{struct_control_1_1_control_pair}{Control\+Pair} $>$ \hyperlink{class_control_a95f5fb38688937d485753cb4d67b4099}{\+\_\+ctrl}
\item 
string \hyperlink{class_control_a9eb8605f3cba35efc0b6b76d38e9fd25}{\+\_\+file}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Map that holds the contents of a control file. 

In its present form, the control class is a simple map that holds the contents of the control file. The contents can be accessed as bools, integers, doubles or strings with string keys that are identical to the original keywords used in the file.

In addition to storing the control file data the control class allocates already all strategies used in the simulation. This follows an earlier design decision which was to separate the strategy from the rest of the simulation code\+: new strategies are easily implemented at a single place (this file here) and can be readily used anywhere without headaches of passing it down. Strategies can be accessed as void$\ast$ via the get\+Pointer(key) method. The void$\ast$ requires a correct cast at the time of use.

A single control object is then passed to the simulator upon construction and stored there. Hence, it is virtually accessible anywhere in the simulator. While the access time of a map (via string keys) is efficient, most receiving objects will still make local copies of the data to member variables, unless a data is used only infrequent, in which case it does not need to have a class analogy in form of a member variable.

Summary\+:
\begin{DoxyItemize}
\item control object provides original control file data virtually anywhere in the code
\item access with string keys that are the same as used in the control file
\item no hassle with passing down meter long interface lists
\item easy addition of new parameters
\item control class much shorter now, virtually no class variables (only a map)
\item control class can be re-\/read any time via \hyperlink{class_control_afeadb02134927ebd335d2ded31a080bc}{read()}, i.\+e., monitor changes
\item stand alone strategy allocation;
\item elegant grouping of strategy possible (e.\+g., factory together with output)
\item note\+: be careful with the right type casts with get\+Pointer() 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\index{Control@{Control}!Control@{Control}}
\index{Control@{Control}!Control@{Control}}
\subsubsection[{\texorpdfstring{Control()}{Control()}}]{\setlength{\rightskip}{0pt plus 5cm}Control\+::\+Control (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_control_aa730aeda4517f40bc48ba1e46ebded77}{}\label{class_control_aa730aeda4517f40bc48ba1e46ebded77}
\index{Control@{Control}!Control@{Control}}
\index{Control@{Control}!Control@{Control}}
\subsubsection[{\texorpdfstring{Control(string ctrl\+File)}{Control(string ctrlFile)}}]{\setlength{\rightskip}{0pt plus 5cm}Control\+::\+Control (
\begin{DoxyParamCaption}
\item[{string}]{file}
\end{DoxyParamCaption}
)}\hypertarget{class_control_a38ef2c3af6c8ed025fe1e32eaecde245}{}\label{class_control_a38ef2c3af6c8ed025fe1e32eaecde245}
Constructor\+: control object from filename \index{Control@{Control}!````~Control@{$\sim$\+Control}}
\index{````~Control@{$\sim$\+Control}!Control@{Control}}
\subsubsection[{\texorpdfstring{$\sim$\+Control()}{~Control()}}]{\setlength{\rightskip}{0pt plus 5cm}Control\+::$\sim$\+Control (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_control_aedda1328c4f8b8d49bca8f0812d3bfd1}{}\label{class_control_aedda1328c4f8b8d49bca8f0812d3bfd1}
Destructor\+: loop over all map entries and delete pointers 

\subsection{Member Function Documentation}
\index{Control@{Control}!add\+Entry@{add\+Entry}}
\index{add\+Entry@{add\+Entry}!Control@{Control}}
\subsubsection[{\texorpdfstring{add\+Entry(string key, string val, void $\ast$ptr=\+N\+U\+L\+L)}{addEntry(string key, string val, void *ptr=NULL)}}]{\setlength{\rightskip}{0pt plus 5cm}void Control\+::add\+Entry (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{string}]{val, }
\item[{void $\ast$}]{ptr = {\ttfamily NULL}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_control_a01104c38f1b71090108a52dcf0b3d1d8}{}\label{class_control_a01104c38f1b71090108a52dcf0b3d1d8}
add a new entry to the map pass by value on purpose (so string constants can be used directly) a val == \char`\"{}default\char`\"{} leaves a field key unassigned \index{Control@{Control}!add\+Pointer@{add\+Pointer}}
\index{add\+Pointer@{add\+Pointer}!Control@{Control}}
\subsubsection[{\texorpdfstring{add\+Pointer(string key, void $\ast$ptr, string val="""")}{addPointer(string key, void *ptr, string val="")}}]{\setlength{\rightskip}{0pt plus 5cm}void Control\+::add\+Pointer (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{void $\ast$}]{ptr, }
\item[{string}]{val = {\ttfamily \char`\"{}\char`\"{}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_control_ab2764922690cecd881f3ac9c1e0ba8d6}{}\label{class_control_ab2764922690cecd881f3ac9c1e0ba8d6}
add a pointer to the map, create entries on the fly pass by value on purpose (so string constants can be used directly) \index{Control@{Control}!exists@{exists}}
\index{exists@{exists}!Control@{Control}}
\subsubsection[{\texorpdfstring{exists(string key)}{exists(string key)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Control\+::exists (
\begin{DoxyParamCaption}
\item[{string}]{key}
\end{DoxyParamCaption}
)}\hypertarget{class_control_a25a6868383ae1da8c2dcfc9e1c08c9b7}{}\label{class_control_a25a6868383ae1da8c2dcfc9e1c08c9b7}
see if a keyword is in the control file 
\begin{DoxyParams}{Parameters}
{\em key} & keyword as it appears in the control file \\
\hline
\end{DoxyParams}
\index{Control@{Control}!find\+Key@{find\+Key}}
\index{find\+Key@{find\+Key}!Control@{Control}}
\subsubsection[{\texorpdfstring{find\+Key(istream \&istr, string key)}{findKey(istream &istr, string key)}}]{\setlength{\rightskip}{0pt plus 5cm}void Control\+::find\+Key (
\begin{DoxyParamCaption}
\item[{istream \&}]{istr, }
\item[{string}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_control_ac81ea08780126671aa88b90654f8a4fa}{}\label{class_control_ac81ea08780126671aa88b90654f8a4fa}
read lines in a stream until the key string is found (at the beginning of a line) 
\begin{DoxyParams}{Parameters}
{\em istr} & the stream to be read from \\
\hline
{\em key} & the key we are looking for \\
\hline
\end{DoxyParams}
\index{Control@{Control}!get\+Bool@{get\+Bool}}
\index{get\+Bool@{get\+Bool}!Control@{Control}}
\subsubsection[{\texorpdfstring{get\+Bool(string key, int tok=0)}{getBool(string key, int tok=0)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Control\+::get\+Bool (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{int}]{tok = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{class_control_a50d1f887dd09e6292e4e07360be79824}{}\label{class_control_a50d1f887dd09e6292e4e07360be79824}
return the control parameter as bool if key is not in map, false will be returned 
\begin{DoxyParams}{Parameters}
{\em key} & keyword as it appears in the control file \\
\hline
{\em tok} & if tok$>$ 0\+: read the tokth token \\
\hline
\end{DoxyParams}
\index{Control@{Control}!get\+Double@{get\+Double}}
\index{get\+Double@{get\+Double}!Control@{Control}}
\subsubsection[{\texorpdfstring{get\+Double(string key, int tok=0)}{getDouble(string key, int tok=0)}}]{\setlength{\rightskip}{0pt plus 5cm}double Control\+::get\+Double (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{int}]{tok = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{class_control_aacf80fb72e8d797d1b5396634e41ddc4}{}\label{class_control_aacf80fb72e8d797d1b5396634e41ddc4}
return the control parameter as double a unit following the number will be considered if key is not in map, \char`\"{}-\/1\char`\"{} will be returned 
\begin{DoxyParams}{Parameters}
{\em key} & keyword as it appears in the control file \\
\hline
{\em tok} & if tok$>$ 0\+: read the tokth token \\
\hline
\end{DoxyParams}
\index{Control@{Control}!get\+Int@{get\+Int}}
\index{get\+Int@{get\+Int}!Control@{Control}}
\subsubsection[{\texorpdfstring{get\+Int(string key, int tok=0)}{getInt(string key, int tok=0)}}]{\setlength{\rightskip}{0pt plus 5cm}int Control\+::get\+Int (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{int}]{tok = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{class_control_a1ab6db178c602c6a5d5f5b48edc01f61}{}\label{class_control_a1ab6db178c602c6a5d5f5b48edc01f61}
return the control parameter as integer if key is not in map, -\/1 will be returned 
\begin{DoxyParams}{Parameters}
{\em key} & keyword as it appears in the control file \\
\hline
{\em tok} & if tok$>$ 0\+: read the tokth token \\
\hline
\end{DoxyParams}
\index{Control@{Control}!get\+String@{get\+String}}
\index{get\+String@{get\+String}!Control@{Control}}
\subsubsection[{\texorpdfstring{get\+String(string key, int tok=0)}{getString(string key, int tok=0)}}]{\setlength{\rightskip}{0pt plus 5cm}string Control\+::get\+String (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{int}]{tok = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{class_control_afdb5c4d692d258d9ba3b1a3596e10a4f}{}\label{class_control_afdb5c4d692d258d9ba3b1a3596e10a4f}
return the control parameter as string if key is not in map, \char`\"{}default\char`\"{} will be returned 
\begin{DoxyParams}{Parameters}
{\em key} & keyword as it appears in the control file \\
\hline
{\em tok} & if tok$>$ 0\+: read the tokth token \\
\hline
\end{DoxyParams}
\index{Control@{Control}!get\+Token@{get\+Token}}
\index{get\+Token@{get\+Token}!Control@{Control}}
\subsubsection[{\texorpdfstring{get\+Token(string key, int tok=0)}{getToken(string key, int tok=0)}}]{\setlength{\rightskip}{0pt plus 5cm}string Control\+::get\+Token (
\begin{DoxyParamCaption}
\item[{string}]{key, }
\item[{int}]{tok = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_control_a194c1ebfe1f3774f2fc966b2c9d240b6}{}\label{class_control_a194c1ebfe1f3774f2fc966b2c9d240b6}
returns a token from an item \index{Control@{Control}!open\+File@{open\+File}}
\index{open\+File@{open\+File}!Control@{Control}}
\subsubsection[{\texorpdfstring{open\+File(ifstream \&file, string name, string key)}{openFile(ifstream &file, string name, string key)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Control\+::open\+File (
\begin{DoxyParamCaption}
\item[{ifstream \&}]{file, }
\item[{string}]{name, }
\item[{string}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_control_ab2c73097c22b0f2693e5c86ff01d2775}{}\label{class_control_ab2c73097c22b0f2693e5c86ff01d2775}
attempts to open a the file with name and place it past the optional key (at the beginning of a line) 
\begin{DoxyParams}{Parameters}
{\em file} & the stream to be opened for reading \\
\hline
{\em name} & filepath and name \\
\hline
{\em key} & key to be found \\
\hline
\end{DoxyParams}
\index{Control@{Control}!read@{read}}
\index{read@{read}!Control@{Control}}
\subsubsection[{\texorpdfstring{read()}{read()}}]{\setlength{\rightskip}{0pt plus 5cm}void Control\+::read (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_control_afeadb02134927ebd335d2ded31a080bc}{}\label{class_control_afeadb02134927ebd335d2ded31a080bc}
read the control file \index{Control@{Control}!read\+With\+Unit@{read\+With\+Unit}}
\index{read\+With\+Unit@{read\+With\+Unit}!Control@{Control}}
\subsubsection[{\texorpdfstring{read\+With\+Unit(const char $\ast$timestr)}{readWithUnit(const char *timestr)}}]{\setlength{\rightskip}{0pt plus 5cm}double Control\+::read\+With\+Unit (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{unitstr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_control_a22c3e26d6a7e40451a72ed6f25b45728}{}\label{class_control_a22c3e26d6a7e40451a72ed6f25b45728}
reads a \char`\"{}number unit\char`\"{} string and converts it to a single double considering the unit returns -\/1 if nothing was converted 

\subsection{Member Data Documentation}
\index{Control@{Control}!\+\_\+ctrl@{\+\_\+ctrl}}
\index{\+\_\+ctrl@{\+\_\+ctrl}!Control@{Control}}
\subsubsection[{\texorpdfstring{\+\_\+ctrl}{_ctrl}}]{\setlength{\rightskip}{0pt plus 5cm}map$<$string,{\bf Control\+Pair}$>$ Control\+::\+\_\+ctrl\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_control_a95f5fb38688937d485753cb4d67b4099}{}\label{class_control_a95f5fb38688937d485753cb4d67b4099}
\index{Control@{Control}!\+\_\+file@{\+\_\+file}}
\index{\+\_\+file@{\+\_\+file}!Control@{Control}}
\subsubsection[{\texorpdfstring{\+\_\+file}{_file}}]{\setlength{\rightskip}{0pt plus 5cm}string Control\+::\+\_\+file\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_control_a9eb8605f3cba35efc0b6b76d38e9fd25}{}\label{class_control_a9eb8605f3cba35efc0b6b76d38e9fd25}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/doberle/\+Advanced C\+F\+D/acfd/\+Code/\hyperlink{control_8h}{control.\+h}\item 
/home/doberle/\+Advanced C\+F\+D/acfd/\+Code/\hyperlink{control_8cpp}{control.\+cpp}\end{DoxyCompactItemize}
